{"version":3,"sources":["components/Home.js","components/Result.js","App.js","index.js"],"names":["Home","state","ready","start","handleStartClick","_this","setState","setTimeout","connect","send","_this2","this","_this$state","user","props","react_default","a","createElement","className","lottie_react_web_dist_default","options","loop","autoplay","animationData","Planes","Smoke","rendererSettings","preserveAspectRatio","height","width","concat","style","backgroundImage","photo_200","photo_max_orig","onClick","React","Component","texts","china","pisa","everest","london","paris","amsterdam","taiga","prague","munich","kaluga","tbilisi","mongolia","saintp","Result","_this$props","friend","result","direction","first_name","results","App","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","activePanel","Math","floor","random","length","subscribe","res","detail","type","data","users","app_id","scope","dist","id","components_Home","components_Result","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.6d1acf89.chunk.js","sourcesContent":["/* eslint-disable react/jsx-filename-extension */\n\nimport React from 'react'\n\nimport connect from '@vkontakte/vkui-connect'\n\nimport Lottie from 'lottie-react-web'\n\nimport * as Planes from '../animation/planes.json'\nimport * as Smoke from '../animation/smoke.json'\n\nclass Home extends React.Component {\n    state = {\n        ready: false,\n        start: false\n    }\n\n    componentDidMount() {\n        setTimeout(() => this.setState({ ready: true }), 800)\n    }\n\n    handleStartClick = () => {\n        this.setState({ start: true })\n\n        setTimeout(() => connect.send('VKWebAppGetFriends', {}), 1000)\n    }\n\n    render() {\n        const { ready, start } = this.state\n        const { user } = this.props\n\n        return (\n            <div className='home'>\n                <div className='logo' />\n                {(!ready || start) && <div className='animation'>\n                    <Lottie\n                        options={{\n                            loop: false,\n                            autoplay: true,\n                            animationData: (!ready && Planes.default) || Smoke.default,\n                            rendererSettings: {\n                                preserveAspectRatio: 'xMidYMid slice'\n                            }\n                        }}\n                        height='100%'\n                        width='100%'\n                    />\n                </div>}\n                <div className={`home_content ${(!ready || start) ? 'hidden' : ''}`}>\n                    <h1>Узнай</h1>\n                    <p>куда и с кем ты поедешь в путешествие</p>\n                    <div className='home_circles'>\n                        <div className='home_circle circle'>\n                            <div className='avatar' style={{ backgroundImage: `url(${user && (user.photo_200 || user.photo_max_orig)})` }} />\n                        </div>\n                        <span>+</span>\n                        <div className='home_circle circle'>\n                            <div className='avatar avatar--empty'>?</div>\n                        </div>\n                    </div>\n                    <div className='start' onClick={this.handleStartClick} />\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Home\n","/* eslint-disable react/prefer-stateless-function */\r\n/* eslint-disable react/jsx-filename-extension */\r\nimport React from 'react'\r\n\r\nimport Lottie from 'lottie-react-web'\r\n\r\nimport * as Smoke from '../animation/smoke.json'\r\n\r\nconst texts = {\r\n    china: ['глуять по великой', 'китайской стене'],\r\n    pisa: ['фотографировать', 'башню в пизе'],\r\n    everest: ['покорять вершины', 'эвереста'],\r\n    london: ['смотреть на биг-бен', 'в лондоне'],\r\n    paris: ['есть круассаны', 'в париже'],\r\n    amsterdam: ['на гей-парад', 'в амстердаме'],\r\n    taiga: ['драться с медведем', 'в тайге'],\r\n    prague: ['за пивом и свининой', 'в прагу'],\r\n    munich: ['на окоберфест', 'в мюнхен'],\r\n    kaluga: ['гулять по улицам', 'калуги'],\r\n    tbilisi: ['есть хинкали', 'в тбилиси'],\r\n    mongolia: ['кататься по степям', 'монголии'],\r\n    saintp: ['есть шаверму', 'в санкт-петербурге']\r\n}\r\n\r\nclass Result extends React.Component {\r\n    state = {\r\n        ready: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        setTimeout(() => this.setState({ ready: true }), 600)\r\n    }\r\n\r\n    render() {\r\n        const { ready } = this.state\r\n        const { user, friend, result } = this.props\r\n\r\n        return (\r\n            <div className={`result result--${result}`}>\r\n                {!ready && <div className='animation'>\r\n                    <Lottie\r\n                        options={{\r\n                            loop: true,\r\n                            autoplay: true,\r\n                            animationData: Smoke.default,\r\n                            rendererSettings: {\r\n                                preserveAspectRatio: 'xMidYMid slice'\r\n                            },\r\n                        }}\r\n                        height='100%'\r\n                        width='100%'\r\n                        direction={-1}\r\n                    />\r\n                </div>}\r\n                <div className={`result_content ${!ready ? 'hidden' : ''}`}>\r\n                    <div className='logo' />\r\n                    <div className='result_circles'>\r\n                        <div className='result_circle circle'>\r\n                            <div className='avatar' style={{ backgroundImage: `url(${user && (user.photo_200 || user.photo_max_orig)})` }} />\r\n                        </div>\r\n                        <div className='result_circle circle'>\r\n                            <div className='avatar' style={{ backgroundImage: `url(${friend && (friend.photo_200 || friend.photo_max_orig)})` }} />\r\n                        </div>\r\n                    </div>\r\n                    <div className='result_names'>\r\n                        <div>Я и {friend.first_name}</div>\r\n                    </div>\r\n                    <div className='result_label parallelogram'>\r\n                        <div>отправляемся...</div>\r\n                    </div>\r\n                    <div className='result_text parallelogram'>\r\n                        <div>{texts[result][0]}</div>\r\n                    </div>\r\n                    <div className='result_text result_text--cutted parallelogram'>\r\n                        <div>{texts[result][1]}</div>\r\n                    </div>\r\n                    <div className='share' />\r\n                    <div className='retry' >ещё раз</div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Result\r\n","/* eslint-disable react/jsx-filename-extension */\n\nimport React from 'react'\n\nimport connect from '@vkontakte/vkui-connect'\nimport { View, Panel } from '@vkontakte/vkui'\n\nimport './App.css'\n\nimport Home from './components/Home'\nimport Result from './components/Result'\n\nconst results = ['china', 'pisa', 'everest', 'london', 'paris', 'amsterdam', 'taiga', 'prague', 'munich', 'kaluga', 'tbilisi', 'mongolia', 'saintp']\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props)\n        // this.state = {\n        //     activePanel: 'result',\n        //     user: { id: 9387646, first_name: 'Славик', last_name: 'Беляков', sex: 2, city: { id: 2, title: 'Санкт-Петербург' }, country: { id: 1, title: 'Россия' }, photo_100: 'https://sun9-30.userapi.com/c849020/v849020067/30b7f/GmZOQKJK1uA.jpg?ava=1', photo_max_orig: 'https://sun9-21.userapi.com/c849020/v849020067/30b7b/zLZOrrEByAc.jpg?ava=1', bdate: '6.9.1995', photo_200: 'https://sun9-8.userapi.com/c849020/v849020067/30b7e/Vd-E144O3PA.jpg?ava=1', timezone: 3 },\n        //     friend: { id: 296749655, sex: 1, last_name: 'Белякова', first_name: 'Мия', photo_200: 'https://sun9-5.userapi.com/c855436/v855436501/c8fc4/nHSgyDD4FD8.jpg?ava=1' },\n        //     result: results[Math.floor(Math.random() * results.length)]\n        // }\n        this.state = {\n            activePanel: 'home',\n            user: null,\n            friend: null,\n            result: results[Math.floor(Math.random() * results.length)]\n        }\n    }\n\n    componentDidMount() {\n        connect.send('VKWebAppInit', {})\n\n        connect.subscribe((res) => {\n            // document.getElementById('debug').innerHTML += `\\n${res.detail.type}`\n\n            switch (res.detail.type) {\n            case 'VKWebAppGetUserInfoResult':\n                this.setState({ user: res.detail.data })\n                break\n            case 'VKWebAppGetFriendsResult':\n                this.setState({\n                    activePanel: 'result',\n                    friend: res.detail.data.users[0],\n                    result: results[Math.floor(Math.random() * results.length)]\n                })\n                break\n            default:\n                break\n            }\n        })\n\n        connect.send('VKWebAppGetUserInfo', {})\n\n        connect.send('VKWebAppGetAuthToken', { app_id: 7105859, scope: 'friends,status' })\n    }\n\n    render() {\n        const { activePanel, user, friend, result } = this.state\n\n        return (\n            <View activePanel={activePanel}>\n                <Panel id='home'>\n                    <Home\n                        user={user}\n                    />\n                </Panel>\n                <Panel id='result'>\n                    <Result\n                        user={user}\n                        friend={friend}\n                        result={result}\n                    />\n                </Panel>\n            </View>\n        )\n    }\n}\n\nexport default App\n","import 'core-js/features/map'\nimport 'core-js/features/set'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './App'\n// import registerServiceWorker from './sw';\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}
{"version":3,"sources":["components/Home.js","components/Result.js","components/Wrapper.js","App.js","index.js"],"names":["Home","state","ready","start","handleStartClick","setTimeout","connect","send","_this2","this","setState","_this$state","user","props","react_default","a","createElement","className","react_lottie_dist_default","options","loop","autoplay","animationData","Planes","Smoke","rendererSettings","preserveAspectRatio","height","width","concat","style","backgroundImage","photo_200","photo_max_orig","onClick","React","Component","Result","_this$props","friend","result","JSON","stringify","Wrapper","_ref","block","react","components_Home","components_Result","results","App","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","subscribe","e","console","log","detail","document","getElementById","innerHTML","type","data","users","Math","floor","random","length","app_id","scope","dist","activePanel","key","id","components_Wrapper","ReactDOM","render","src_App_0"],"mappings":"oy/sCAmEeA,6MAvDXC,MAAQ,CACJC,OAAO,EACPC,OAAO,KAOXC,iBAAmB,WAGfC,WAAW,kBAAMC,IAAQC,KAAK,qBAAsB,KAAK,yFAPzC,IAAAC,EAAAC,KAChBJ,WAAW,kBAAMG,EAAKE,SAAS,CAAER,OAAO,KAAS,sCAS5C,IAAAS,EACoBF,KAAKR,MAAtBC,EADHS,EACGT,MAAOC,EADVQ,EACUR,MACPS,EAASH,KAAKI,MAAdD,KAER,OACIE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACZf,GAASC,IAAUW,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACjCH,EAAAC,EAAAC,cAACE,EAAAH,EAAD,CACII,QAAS,CACLC,MAAM,EACNC,UAAU,EACVC,eAAiBpB,GAASqB,GAAmBC,EAC7CC,iBAAkB,CACdC,oBAAqB,mBAG7BC,OAAO,OACPC,MAAM,UAGdd,EAAAC,EAAAC,cAAA,OAAKC,UAAS,gBAAAY,QAAoB3B,GAASC,EAAS,SAAW,KAC3DW,EAAAC,EAAAC,cAAA,4CACAF,EAAAC,EAAAC,cAAA,wMACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAASa,MAAO,CAAEC,gBAAe,OAAAF,OAASjB,IAASA,EAAKoB,WAAapB,EAAKqB,gBAAzC,SAEpDnB,EAAAC,EAAAC,cAAA,iBACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBAAf,OAGRH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQiB,QAASzB,KAAKL,4BAjDtC+B,IAAMC,WCOVC,mLAZF,IAAAC,EAC4B7B,KAAKI,MAAxB0B,GADTD,EACG1B,KADH0B,EACSC,QAAQC,EADjBF,EACiBE,OAEtB,OACI1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACVwB,KAAKC,UAAUH,GACfC,UAPIL,IAAMC,WCgBZO,EAfC,SAAAC,GAAqC,IAAlCC,EAAkCD,EAAlCC,MAAOjC,EAA2BgC,EAA3BhC,KAAM2B,EAAqBK,EAArBL,OAAQC,EAAaI,EAAbJ,OACpC,OACI1B,EAAAC,EAAAC,cAAC8B,EAAA,SAAD,KACe,SAAVD,GAAoB/B,EAAAC,EAAAC,cAAC+B,EAAD,CACjBnC,KAAMA,IAEC,WAAViC,GAAsB/B,EAAAC,EAAAC,cAACgC,EAAD,CACnBpC,KAAMA,EACN2B,OAAQA,EACRC,OAAQA,MCJlBS,EAAU,CAAC,QAAS,OAAQ,UAAW,SAAU,QAAS,YAAa,QAAS,SAAU,SAAU,SAAU,UAAW,WAAY,SAAU,UAAW,QAAS,aAmE1JC,cAhEX,SAAAA,EAAYrC,GAAO,IAAAsC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAA3C,KAAAyC,IACfC,EAAAC,OAAAE,EAAA,EAAAF,CAAA3C,KAAA2C,OAAAG,EAAA,EAAAH,CAAAF,GAAAM,KAAA/C,KAAMI,KAEDZ,MAAQ,CACT4C,MAAO,OACPjC,KAAM,KACN2B,OAAQ,KACRC,OAAQ,IAPGW,mFAWC,IAAA3C,EAAAC,KAChBH,IAAQC,KAAK,eAAgB,IAE7BD,IAAQmD,UAAU,SAACC,GAKf,OAJAC,QAAQC,IAAIF,EAAEG,QAEdC,SAASC,eAAe,SAASC,WAAjC,KAAAnC,OAAmD6B,EAAEG,OAAOI,MAEpDP,EAAEG,OAAOI,MACjB,IAAK,4BACDzD,EAAKE,SAAS,CAAEE,KAAM8C,EAAEG,OAAOK,OAC/B,MACJ,IAAK,2BACDJ,SAASC,eAAe,SAASC,WAAa,UAE9CxD,EAAKE,SAAS,CACVmC,MAAO,SACPN,OAAQmB,EAAEQ,KAAKC,MAAM,GACrB3B,OAAQS,EAAQmB,KAAKC,MAAMD,KAAKE,SAAWrB,EAAQsB,cAQ/DjE,IAAQC,KAAK,sBAAuB,IAEpCD,IAAQC,KAAK,uBAAwB,CAAEiE,OAAQ,QAASC,MAAO,gEAI/DX,SAASC,eAAe,SAASC,WAAjC,KAAAnC,OAAmDpB,KAAKR,MAAM4C,wCAGzD,IAAAlC,EACmCF,KAAKR,MAArC4C,EADHlC,EACGkC,MAAOjC,EADVD,EACUC,KAAM2B,EADhB5B,EACgB4B,OAAQC,EADxB7B,EACwB6B,OAE7B,OACI1B,EAAAC,EAAAC,cAAC0D,EAAA,KAAD,CAAMC,YAAY,OAAOC,IAAK/B,GAC1B/B,EAAAC,EAAAC,cAAC0D,EAAA,MAAD,CAAOG,GAAG,QACN/D,EAAAC,EAAAC,cAAC8D,EAAD,CACIjC,MAAOA,EACPjC,KAAMA,EACN2B,OAAQA,EACRC,OAAQA,aAzDdL,IAAMC,WCCxB2C,IAASC,OAAOlE,EAAAC,EAAAC,cAACiE,EAAD,MAASnB,SAASC,eAAe","file":"static/js/main.97857f2a.chunk.js","sourcesContent":["/* eslint-disable react/jsx-filename-extension */\n\nimport React from 'react'\n\nimport connect from '@vkontakte/vkui-connect'\n\nimport Lottie from 'react-lottie'\n\nimport * as Planes from '../animation/planes.json'\nimport * as Smoke from '../animation/smoke.json'\n\nclass Home extends React.Component {\n    state = {\n        ready: false,\n        start: false\n    }\n\n    componentDidMount() {\n        setTimeout(() => this.setState({ ready: true }), 800)\n    }\n\n    handleStartClick = () => {\n        // this.setState({ start: true })\n\n        setTimeout(() => connect.send('VKWebAppGetFriends', {}), 1000)\n    }\n\n    render() {\n        const { ready, start } = this.state\n        const { user } = this.props\n\n        return (\n            <div className='home'>\n                <div className='logo' />\n                {(!ready || start) && <div className='animation'>\n                    <Lottie\n                        options={{\n                            loop: false,\n                            autoplay: true,\n                            animationData: (!ready && Planes.default) || Smoke.default,\n                            rendererSettings: {\n                                preserveAspectRatio: 'xMidYMid slice'\n                            }\n                        }}\n                        height='100%'\n                        width='100%'\n                    />\n                </div>}\n                <div className={`home_content ${(!ready || start) ? 'hidden' : ''}`}>\n                    <h1>Узнай</h1>\n                    <p>куда и с кем ты поедешь в путешествие</p>\n                    <div className='home_circles'>\n                        <div className='home_circle circle'>\n                            <div className='avatar' style={{ backgroundImage: `url(${user && (user.photo_200 || user.photo_max_orig)})` }} />\n                        </div>\n                        <span>+</span>\n                        <div className='home_circle circle'>\n                            <div className='avatar avatar--empty'>?</div>\n                        </div>\n                    </div>\n                    <div className='start' onClick={this.handleStartClick} />\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Home\n","/* eslint-disable react/prefer-stateless-function */\r\n/* eslint-disable react/jsx-filename-extension */\r\n\r\nimport React from 'react'\r\n\r\nclass Result extends React.Component {\r\n    render() {\r\n        const { user, friend, result } = this.props\r\n\r\n        return (\r\n            <div className='result'>\r\n                {JSON.stringify(friend)}\r\n                {result}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Result\r\n","/* eslint-disable react/jsx-filename-extension */\r\nimport React, { Fragment } from 'react'\r\n\r\nimport Home from '../components/Home'\r\nimport Result from '../components/Result'\r\n\r\nconst Wrapper = ({ block, user, friend, result }) => {\r\n    return (\r\n        <Fragment>\r\n            {block === 'home' && <Home\r\n                user={user}\r\n            />}\r\n            {block === 'result' && <Result\r\n                user={user}\r\n                friend={friend}\r\n                result={result}\r\n            />}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Wrapper\r\n","/* eslint-disable react/jsx-filename-extension */\n\nimport React from 'react'\n\nimport connect from '@vkontakte/vkui-connect'\nimport { View, Panel } from '@vkontakte/vkui'\n\nimport './App.css'\n\nimport Wrapper from './components/Wrapper'\n\nconst results = ['china', 'pisa', 'everest', 'bigban', 'paris', 'amsterdam', 'taiga', 'prague', 'munich', 'kaluga', 'georgia', 'mongolia', 'israel', 'vatican', 'nepal', 'chernobyl']\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            block: 'home',\n            user: null,\n            friend: null,\n            result: ''\n        }\n    }\n\n    componentDidMount() {\n        connect.send('VKWebAppInit', {})\n\n        connect.subscribe((e) => {\n            console.log(e.detail)\n\n            document.getElementById('debug').innerHTML += `\\n${e.detail.type}`\n\n            switch (e.detail.type) {\n            case 'VKWebAppGetUserInfoResult':\n                this.setState({ user: e.detail.data })\n                break\n            case 'VKWebAppGetFriendsResult':\n                document.getElementById('debug').innerHTML += '\\nDAVAI'\n\n                this.setState({\n                    block: 'result',\n                    friend: e.data.users[0],\n                    result: results[Math.floor(Math.random() * results.length)]\n                })\n                break\n            default:\n                break\n            }\n        })\n\n        connect.send('VKWebAppGetUserInfo', {})\n\n        connect.send('VKWebAppGetAuthToken', { app_id: 7105859, scope: 'friends,status' })\n    }\n\n    componentDidUpdate() {\n        document.getElementById('debug').innerHTML += `\\n${this.state.block}`\n    }\n\n    render() {\n        const { block, user, friend, result } = this.state\n\n        return (\n            <View activePanel='main' key={block}>\n                <Panel id='main'>\n                    <Wrapper\n                        block={block}\n                        user={user}\n                        friend={friend}\n                        result={result}\n                    />\n                </Panel>\n            </View>\n        )\n    }\n}\n\nexport default App\n","import 'core-js/features/map'\nimport 'core-js/features/set'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './App'\n// import registerServiceWorker from './sw';\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}